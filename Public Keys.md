<div dir="rtl">
    <h1>کلید عمومی</h1>
    <p><span style="color: #999999;">یه عددِ یکتا که از کلید خصوصیت ساخته شده.</span></p>
    <h2>فهرست</h2>
        <hr>
    <ul>
        <li>
            <p><a href="#1">کلید عمومی چیه؟</a></p>
        </li>
        <li>
            <p><a href="#2">کلید عمومی چطوری از روی کلید خصوصی به‌دست میاد؟</a></p>
        </li>
        <li>
            <p><a href="#3">تابع چیه؟</a></p>
        </li>
        <li>
            <p><a href="#4">منحنی بیضوی‌شکل به چه شکله؟</a></p>
        </li>
        <li>
            <p><a href="#5">کلید عمومی رو چطوری به‌دست میارید؟</a></p>
        </li>
        <li>
            <p><a href="#6">فشرده‌سازی کلید عمومی</a></p>
        </li>
        <li>
            <p><a href="#7">چرا از ضرب‌کردن روی منحنی بیضوی برای به‌دست‌آوردن کلیدهای عمومی استفاده می‌کنیم؟</a></p>
        </li>
        <li>
            <p><a href="#8">چطور می‌شه ثابت کرد که کلید عمومی متعلق به شماست؟</a></p>
        </li>
        <li>
            <p><a href="#9">نتیجه</a></p>
        </li>
    </ul>
    <hr>
    <hr>
    <h2 id="1">کلید عمومی چیه؟</h2>
    <p>یه کلید عمومی شکل اولیه‌ای از یه آدرسه، و درست مثل کلید خصوصی به صورت شانزده‌شانزدهی ذخیره می‌شه. مثال:</p>
    <p dir="ltr">public_key = 02b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a8737</p>
    <p>جالبه که بدونید کلید عمومی شما از روی <strong>کلید خصوصی شما</strong> ایجاد شده.</p>
    <p>اگه این شکل از کلید عمومی رو به شکل کوتاه‌تری فشرده‌سازی نکنیم (که در این حالت «آدرس» نامگذاری می‌شه)، همچنان می‌تونیم از کلید عمومی به‌عنوان آدرس حساب و به‌منظور دریافت بیت‌کوین استفاده کنیم.</p>
    <br>
    <h2 id="2">کلید عمومی چطوری از روی کلید خصوصی به‌دست میاد؟</h2>
    <p>شما با قراردادن کلید خصوصی خودتون در یه تابع ریاضی خاص می‌تونید کلید عمومی مرتبط با کلید خصوصی خودتون رو دریافت کنید.</p><br>
    <h2 id="3">تابع چیه؟</h2>
    <p>به این تابع خاص <strong>ضرب منحنی بیضوی</strong> گفته می‌شه، که درواقع شامل بالاوپایین‌پریدن روی گراف (خط) یه منحنی بیضوی می‌شه تازمانی‌که به یه مختصات نهایی روی گراف برسید. اعداد این مختصات نهایی کلید عمومی شما رو به شما می‌دن. به شکل زیر توجه کنید.</p>
    <br>
    <h2 id="4">منحنی بیضوی چه شکلیه؟</h2>
    <p>شبیه شکل زیر:</p><br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/01-elliptic-curve.png"><br><br>
    <p>علاوه‌براین، منحنی بیضوی استفاده‌شده در بیت‌کوین دارای نقطه‌ی شروع مشخصیه.</p><br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/01-elliptic-curve-g.png"><br><br>
    <p>اگه ما روی این منحنی عملیات ضرب انجام بدیم (به عنوان مثال، نقطه رو در عدد دو ضرب کنیم)، می‌تونیم مثل تصویر زیر در اطراف منحنی حرکت کنیم.</p>
    <br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/01-elliptic-curve-g-multiplication.png">
    <p dir="ltr">The fact that we can draw a tangent anywhere on the curve and it will intersect <i>one</i> other point on the curve is a special feature of elliptic curves.</p>
    <br><br>
    <p>و تمام. ما الآن مختصات نقطه‌ی (G) رو در عدد دو ضرب کردیم و مختصات نهایی (2G) رو یافتیم.</p>
    <p>این یه دور از ضرب منحنی بیضویه.</p>
    <p>نکته‌ای رو که باید بدونیم این هست که کلمه‌ی «ضرب» در اینجا حالت عادی‌ای از ضرب نیست و حالت ویژه‌ایه که به‌عنوان ضرب درنظر گرفتیم.</p>
    <p>اگه شما عدد دو رو در مختصات G ضرب کنید، حاصل مختصات 2G نمی‌شه (همون‌طور که روی گراف نشون داده شده).</p>
    <p>درواقع، رسیدن به این مختصات از روشی هوشمندانه به‌دست میاد که برای نامگذاری اون از کلمه‌ی «ضرب» استفاده شده.</p>
    <p>چون، همون‌طور که می‌دونید، ریاضی هرگز نمی‌تونه به‌اندازه‌ی‌کافی گیج‌کننده باشه.</p>
    <p>بنابراین، ازاین‌به‌بعد، اگه ضرب رو به‌کار بردیم، منظور ما ضرب منحنی بیضوی هست.</p>
    <br>
    <h2 id="5">کلید عمومی رو چطوری به‌دست میارید؟</h2>
    <p>در مثالی که در بالا دیدیم، با ضرب دو در G به 2G رسیدیم.</p>
    <p>برای به‌دست‌آوردن کلید عمومی ما کلید خصوصی خودمون رو در G ضرب می‌کنیم. مثال زیر رو ببینید:</p>
    <p dir="ltr">private_key = ef235aacf90d9f4aadd8c92e4b2562e1d9eb97f0df9ba3b508258739cb013db2</p>
    <p dir="ltr">private_key = 108165236279178312660610114131826512483935470542850824183737259708197206310322</p>
    <br>
    <p dir="ltr">public_key = 108165236279178312660610114131826512483935470542850824183737259708197206310322 * G</p>
    <p>یا به عبارت دیگه، «کلید خصوصی»بار بالاوپایین پریدن روی منحنی بیضوی. اگه یادتون باشه، در مبحث مربوط به کلیدهای خصوصی یاد گرفتیم که کلید خصوصی یه عدده که به‌صورت تصادفی تولید شده.</p>
    <br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/02-public-key-multiplication.png">
    <p dir="ltr">You get the idea.</p>
    <br><br>
    <p>نقطه‌ی پایانی که روی منحنی بیضوی به‌دست میاد مختصاتی به شما می‌ده، و درواقع این مختصات همون کلید عمومی شما رو تشکیل می‌ده.</p>
    <p>بنابراین، اگه درنهایت این مختصات ما باشه، با ضرب G توسط کلید خصوصی ما ایجاد شده:</p>
    <p dir="ltr">x = 81591541406288143274758265124625798440200740391102527151086648448953253267255</p>
    <p dir="ltr">y = 64573953342291915951744135406509773051817879333910826118626860448948679381492</p>
    <p>بنابراین، ما باید هردوی این‌ها رو به شانزده‌شانزدهی تبدیل و اون‌ها رو با هم ترکیب کنیم:</p>
    <p dir="ltr">public_key (x) = b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a8737</p>
    <p dir="ltr">public_key (y) = 8ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4</p><br>
    <p dir="ltr">public_key (x,y) = b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a87378ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4</p>
    <p>این شکل اصلی کلید عمومی هست؛ یعنی باید 04 رو در ابتدای اون قرار بدیم، مثل این:</p>
    <p dir="ltr">public_key = 04b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a87378ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4</p>
    <p>برای اینکه بفهمیم چرا به این صورته، باید به بخش چگونگی فشرده‌کردن کلیدهای عمومی مراجعه کنید تا بدونید این کار به چه صورت انجام می‌گیره. به‌هرحال، این کلید عمومی ایجادشده‌ی ماست.</p>
    <br>
    <h2 id="6">فشرده‌سازی کلید عمومی</h2>
    <p>برای صرفه‌جویی از فضای استفاده‌شده، کلیدهای عمومی رو (این روزها) تنها از مختصات x کامل استفاده می‌کنن.</p>
    <p>این به‌این‌خاطره که منحنی بیضوی تشکیل‌شده یه معادله‌ست (y^2 = x^3 + 7)، به این معنی که اگه شما مختصات x رو دارید، می‌تونید y متناظر رو براساس معادله به‌دست بیارید.</p>
    <p>بااین‌حال، چون y^2 در این معادله داریم، y ما می‌تونه عدد مثبت یا منفی باشه:</p>
    <br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/03-y-polarity.png"><br><br>
    <p>بنابراین، تنها اطلاعات اضافی‌ای که برای به‌دست‌آوردن مختصات دقیق y نیاز دارید این هست که ببینید مختصات y در بالا یا پایین محور x هست، و البته برگرفته از کارکرد منحنی بیضوی هم هست:</p>
    <ol>
        <li>اگه y زوج باشه، بنابراین، در بالای محور x هست</li><br>
        <li>اگه y فرد باشه، بنابراین، در زیر محور x هست</li>
    </ol>
    <p>بنابراین، به‌جای داشتن هر دوی این‌ها (x و y) به‌عنوان کلید عمومی، شما می‌تونید فقط x رو ذخیره کنید، بدون اینکه درنظر بگیرید y منفی هست یا مثبت!</p>
    <p>در بیت‌کوین، قسمت زوج یا فرد بودن؛ رو با پشفرضی در مختصات x نشون می دهند.</p>
    <ol>
        <li>زوج = 02</li><br>
        <li>فرد = 03</li>
    </ol>
    <br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/03-y-polarity-prefix.png"><br><br>
    <p>بنابراین، درحالی‌که کلید عمومی اصلی با 04 شروع می‌شه، یه کلید عمومی فشرده با 02 یا 03 شروع می‌شه:</p>
    <p dir="ltr">public_key = 04b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a87378ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4</p>
    <p dir="ltr">public_key_compressed = 02b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a8737</p>
    <p>همون‌طور که می‌بینیم، به‌نظر می‌رسه که خیلی تلاش شده تا به متن کوتاهی دست پیدا بشه، اما چون از کلیدهای عمومی در داده‌ی تراکنش استفاده می‌شه، در طول زمان منجر به صرفه‌جویی فضای زیادی در زنجیره‌بلوک می‌شه.</p>
    <br>
    <h2 id="7">چرا از ضرب‌کردن روی منحنی بیضوی برای به‌دست‌آوردن کلیدهای عمومی استفاده می‌کنیم؟</h2>
    <p>چون منحنی بیضوی دارای دو ویژگیه که موقع ایجاد کلید خصوصی یا عمومی مفید واقع می‌شه.</p>
    <ol>
        <li>ضرب منحنی بیضوی یه تابع trapdoor هست. به عبارت دیگه، شما نمی‌تونید به عقب برگردید (به‌عنوان مثال، با تقسیم مختصات یه کلید عمومی) تا بفهمید کلید خصوصی چی بوده.</li><br>
        <p>تابع trapdoor تابعیه که به صورت یه‌طرفه محاسبه می‌شه، اما در محاسبه‌ی برعکس اون (یافتن معکوسش)، بدون داشتن اطلاعات خاص، کار بسیار مشکلیه. اسم این تابع trapdoor هست.</p>
        <li>بااین‌وجود، یه کلید عمومی به صورت ریاضی‌گونه به کلید خصوصی متصله؛ درنتیجه، ممکنه که این اتصال (با استفاده از محاسبات ریاضی بیشتر) بدون داشتن کلید خصوصی اون رو آشکار کنه!</li>
    </ol>
    <p>بنابراین، اگه من کلید عمومی (یا آدرس) خودم رو به شما بدم، می‌تونم اون رو به شما بدم بدون اینکه کلید خصوصی خودم رو نشون داده باشم.</p>
    <p>این قابلیت به‌خصوص زمانی به‌کار میاد که من بخوام یه تراکنش بیت‌کوین ایجاد کنم، که شامل قراردادن کلید عمومی من در داده‌ی تراکنش و همچنین اثبات اینکه من صاحب اون هستم می‌شه، بدون اینکه نیازی باشه من کلید خصوصی خودم رو در این داده بفرستم.</p>
    <p>توجه داشته باشیم که کلید عمومی کلیدیه که منحصربه‌فرد مربوط به کلید خصوصی مربوط به خودشه. بنابراین، زمانی که می‌گم من صاحب کلید عمومی هستم، منظورم اینه که کلید خصوصی مربوط به این کلید عمومی رو (که از روی کلید خصوصی ساخته شده) دارم و می‌دونم اون چیه.</p>
    <br>
    <h2 id="8">چطور می‌شه ثابت کرد که کلید عمومی متعلق به شماست؟</h2>
    <p>این خودش یه موضوع کامل (شاید حتی دو موضوع) رو دربرمی‌گیره، اما چون به شکل مهمی به این مبحث مرتبطه، سعی می‌کنم به مفاهیم پایه‌ای اون بپردازم.</p>
    <p>همون‌طور که اشاره شد، یه ارتباط ریاضی بین کلید عمومی و کلید خصوصی وجود داره.</p>
    <p>درنتیجه:</p>
    <ol>
        <li>من می‌تونم کلید خصوصی خودم رو به منحنی بیضوی بدم و با محاسبات ریاضی‌ای که در اون انجام می‌گیره، به یه مقدار (ارزش) جدیدی دست پیدا کنم.</li><br>
        <li>من می‌تونم کلید عمومی خودم رو در منحنی‌های بیضوی دیگه‌ای قرار بدم و از روی اون مقدار (ارزش) دیگه‌ای رو به‌دست بیارم.</li>
    </ol>
    <br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/04-keys-ec-math.png"><br><br>
    <p>درحال‌حاضر، این مقادیر کمی که مشاهده می‌کنید، هم‌پوشانی مقادیر جدیدی هستن که به‌وجود اومدن.</p>
    <br><br><img src="https://learnmeabitcoin.com/beginners/images/public_keys/png/04-keys-ec-math-verification.png">
    <p dir="ltr">The new value I can create from my private key is called a digital signature.</p><br><br>
    <p>و...</p>
    <br>
    <h2>این هم‌پوشانی ثابت می‌کنه که رابطه‌ی ریاضی‌ای بین کلید عمومی و کلید خصوصی وجود داره.</h2>
    <p>و ازاونجایی‌که کسی نمی‌تونه این امضای دیجیتال رو بدون داشتن کلید خصوصی مرتبط با اون ایجاد کنه، همین امضای دیجیتال به‌تنهایی ثابت‌کننده‌ی این موضوع هست که کلید عمومی متعلق به منه.</p>
    <br>
    <h2 id="9">نتیجه</h2>
    <p>زنده‌باد منحنی بیضوی.</p>
    <p><a href="https://learnmeabitcoin.com/beginners/public_keys">منبع</a></p>
    <p><a href="https://github.com/rezatajari/learnmeabitcoin/blob/master/09.%20Digital%20Signatures.md">رفتن به مطلب بعد</a></p>
    <p>لئوناردو دا وینچی: «هیچ دانشی را نمی‌توان واقعی دانست مگر آنکه به‌صورت ریاضی نوشته شود.»</p>
</div>
